### 実装ToDoリスト（優先度つき）

**フェーズ0：初期セットアップ**
- [x] 1.プロジェクト雛形作成（Viteや静的HTMLでも可）
- [x] 2.依存導入：heic2any, jszip（CDNまたはnpm）
- [x] 3.ベースHTML/CSS作成（レスポンシブ）

**フェーズ1：UI/状態管理**
- [x] 4.D&Dエリア実装（dragover/drop／タップで<input type="file" multiple accept=".heic,image/heic">）
- [x] 5.選択ファイルの一覧・合計枚数の表示
- [x] 6.「変換開始」「キャンセル」「ダウンロード」ボタンの状態制御
- [x] 7.進捗バー・ステータスメッセージ・注意文の配置

**フェーズ2：バリデーション & エラー**
- [ ] 8.拡張子/ MIMEチェック（HEIC以外混在なら即エラー停止）
- [ ] 9.枚数・合計サイズの簡易チェック（例：合計3〜4GBで警告）
- [ ] 10.エラー表示UI（モーダル or アラート領域）とリセット機構

**フェーズ3：変換パイプライン**
- [ ] 11.Web Worker ひな形（メイン↔ワーカー間メッセージプロトコル）
- [ ] 12.逐次または小並列での処理キュー実装（同時2〜4枚）
- [ ] 13.heic2anyでJPG化（品質高、リサイズ無し、EXIF保持設定）
- [ ] 14.中間オブジェクトの破棄（revokeObjectURL/GC促進）

**フェーズ4：ZIP生成**
- [ ] 15.JSZipでファイル逐次追加（folder.file(name, blob)）
- [ ] 16.進捗の合算（変換進捗 + ZIP生成進捗 → 全体%）
- [ ] 17.generateAsync({type:"blob"})でZIP Blobを取得
- [ ] 18.ZIPファイル名フォーマット作成（converted_YYYY-MM-DD_HH-mm.zip）

**フェーズ5：ダウンロード & 仕上げ**
- [ ] 19.「ダウンロード」ボタンでURL.createObjectURL(zipBlob)→a.click()
- [ ] 20.状態リセット（再実行できるように）
- [ ] 21.キャンセル（AbortControllerや内部フラグで処理中断）

**フェーズ6：互換・最適化**
- [ ] 22.主要ブラウザ・スマホでの動作検証
- [ ] 23.並列数の自動調整（簡易：ユーザーエージェント/メモリ推定で2 or 4）
- [ ] 24.大量ファイルでのメモリピーク検証（逐次破棄の確認）

**フェーズ7：任意の拡張（後回しOK）**
- [ ] 25.PWA対応（オフライン起動）
- [ ] 26.i18n（英語切替）
- [ ] 27.オプション：位置情報だけ削除スイッチ
- [ ] 28.ドロップ時の重複名対応（同名存在時に(1)付与）
- [ ] 29.スマホでの長押し操作/ファイル選択のUX改善

⸻

### テスト計画（要約）
- **ユニット：**拡張子チェック、ファイル名変換、日時フォーマット
- **結合：**N枚の逐次処理、キャンセル挙動、エラー停止
- **E2E：**主要ブラウザでの200枚変換、EXIF確認（撮影日時/カメラ名）
- **負荷：**4K HEIC×200枚での体感時間と失敗率
